{"ast":null,"code":"import _defineProperty from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./styles/formCard.css\";import{helpHttp}from\"../helpers/helpHttp\";import{useContext}from\"react\";import AuthContext from\"../context/AuthContext\";import ReactFileReader from\"react-file-reader\";import Modal from\"react-modal\";import crossOut from\"../media/crossout.png\";import LoaderThin from\"./LoaderThin\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"https://englishapputc.herokuapp.com/api/cards/\";var customStyles={content:{// color: \"white\",\nwidth:\"350px\",height:\"350px\",backgroundColor:\"#00000000\",outline:\"none\"},overlay:{zIndex:999,backgroundColor:\"#18191ab1\"}};var FormCard=function FormCard(_ref){var modalIsOpen=_ref.modalIsOpen,openModal=_ref.openModal,fetchApi=_ref.fetchApi;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),optionSelected=_useState6[0],setOptionSelected=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fileSelected=_useState8[0],setFileSelected=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),showBtn=_useState10[0],setShowBtn=_useState10[1];// const [modalIsOpen, setModalIsOpen] = useState(true);\nvar _useContext=useContext(AuthContext),user=_useContext.user;var initialForm={user:user.user_id,title:\"\",meaning:\"\",file:\"\",img_url:\"\"};// const openModal = (e) => {\n//   // e.preventDefault();\n//   modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n// };\nvar _useState11=useState(initialForm),_useState12=_slicedToArray(_useState11,2),form=_useState12[0],setForm=_useState12[1];var createData=function createData(data){console.log(form);// if (!form.title === \"\" || !form.meaning === \"\" || !form.file === \"\") {\nif(form.title===\"\"||form.meaning===\"\"||form.file===\"\"&&form.img_url===\"\"){alert(\"llena todos los campos por favor\");}else{var options={body:data,headers:{\"content-type\":\"multipart/form-data\"}};console.log(options);setIsLoading(true);setShowBtn(false);helpHttp().post(url,options).then(function(res){res.err?setMessage(true):setMessage(false);fetchApi();});!message&&openModal();setForm(initialForm);setShowBtn(true);setOptionSelected(\"\");setIsLoading(false);}// } else {\n//   alert(\"llena\");\n// }\n};var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(e.taget);\nconsole.log(form);createData(form);};var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleFiles=function handleFiles(file){file&&setFileSelected(true);setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},\"file\",file.base64)));};var handleChangeRadio=function handleChangeRadio(e){setOptionSelected(e.target.value);console.log(optionSelected);};return/*#__PURE__*/_jsxs(Modal,{className:\"modal\",ariaHideApp:false,style:customStyles,isOpen:modalIsOpen// contentLabel=\"Minimal Modal Example\"\n,children:[/*#__PURE__*/_jsx(\"img\",{style:{margin:\"10px\"},className:\"cross-out\",onClick:openModal,src:crossOut,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-form-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-card\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\xA1Sube tus cartas!\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"title\",value:form.title,onChange:handleChange,className:\"input-form-card\",type:\"text\",placeholder:\"Palabra en ingles\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"meaning\",value:form.meaning,onChange:handleChange,className:\"input-form-card\",type:\"text\",placeholder:\"signicado\"})}),/*#__PURE__*/_jsx(\"h2\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Enviar imagen en:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Archivo \"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeRadio,id:\"file\",name:\"btn-radio\",type:\"radio\",value:\"file\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",children:\"Url \"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeRadio,id:\"url\",name:\"btn-radio\",type:\"radio\",value:\"url\"})]}),/*#__PURE__*/_jsx(\"div\",{}),optionSelected===\"file\"?/*#__PURE__*/_jsx(\"div\",{className:\"main_div\",children:/*#__PURE__*/_jsx(ReactFileReader,{handleFiles:handleFiles,base64:true,children:/*#__PURE__*/_jsx(\"button\",{children:fileSelected?\"Archivo seleccionado ðŸ˜€\":\"Selecciona imagen\"})})}):optionSelected===\"url\"&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"img_url\",value:form.img_url,onChange:handleChange,className:\"input-form-card\",type:\"text\",placeholder:\"Direcci\\xF3n de la imagen\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",className:showBtn?\"btn-send-card\":\"hide-btn-send-card\",children:\"Enviar\"})}),isLoading&&/*#__PURE__*/_jsx(LoaderThin,{})]})}),message&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",color:\"red\"},children:\"ups Algo salio mal, intentalo de nuevo\"})]});};export default FormCard;","map":{"version":3,"names":["useState","helpHttp","useContext","AuthContext","ReactFileReader","Modal","crossOut","LoaderThin","url","customStyles","content","width","height","backgroundColor","outline","overlay","zIndex","FormCard","modalIsOpen","openModal","fetchApi","isLoading","setIsLoading","message","setMessage","optionSelected","setOptionSelected","fileSelected","setFileSelected","showBtn","setShowBtn","user","initialForm","user_id","title","meaning","file","img_url","form","setForm","createData","data","console","log","alert","options","body","headers","post","then","res","err","handleSubmit","e","preventDefault","handleChange","target","name","value","handleFiles","base64","handleChangeRadio","margin","textAlign","color"],"sources":["/home/yair/Desktop/what i delete form project/src/components/FormCard.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./styles/formCard.css\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nimport { useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport ReactFileReader from \"react-file-reader\";\nimport Modal from \"react-modal\";\nimport crossOut from \"../media/crossout.png\";\nimport LoaderThin from \"./LoaderThin\";\n\nconst url = \"https://englishapputc.herokuapp.com/api/cards/\";\n\nconst customStyles = {\n  content: {\n    // color: \"white\",\n    width: \"350px\",\n    height: \"350px\",\n    backgroundColor: \"#00000000\",\n\n    outline: \"none\",\n  },\n  overlay: { zIndex: 999, backgroundColor: \"#18191ab1\" },\n};\nconst FormCard = ({ modalIsOpen, openModal, fetchApi }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(\"\");\n  const [fileSelected, setFileSelected] = useState(false);\n  const [showBtn, setShowBtn] = useState(true);\n  // const [modalIsOpen, setModalIsOpen] = useState(true);\n  let { user } = useContext(AuthContext);\n\n  const initialForm = {\n    user: user.user_id,\n    title: \"\",\n    meaning: \"\",\n    file: \"\",\n    img_url: \"\",\n  };\n\n  // const openModal = (e) => {\n  //   // e.preventDefault();\n  //   modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n  // };\n\n  const [form, setForm] = useState(initialForm);\n\n  const createData = (data) => {\n    console.log(form);\n    // if (!form.title === \"\" || !form.meaning === \"\" || !form.file === \"\") {\n    if (\n      form.title === \"\" ||\n      form.meaning === \"\" ||\n      (form.file === \"\" && form.img_url === \"\")\n    ) {\n      alert(\"llena todos los campos por favor\");\n    } else {\n      let options = {\n        body: data,\n        headers: { \"content-type\": \"multipart/form-data\" },\n      };\n      console.log(options);\n      setIsLoading(true);\n      setShowBtn(false);\n      helpHttp()\n        .post(url, options)\n        .then((res) => {\n          res.err ? setMessage(true) : setMessage(false);\n          fetchApi();\n        });\n\n      !message && openModal();\n      setForm(initialForm);\n      setShowBtn(true);\n      setOptionSelected(\"\");\n      setIsLoading(false);\n    }\n    // } else {\n    //   alert(\"llena\");\n    // }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(e.taget);\n    console.log(form);\n\n    createData(form);\n  };\n  const handleChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleFiles = (file) => {\n    file && setFileSelected(true);\n    setForm({\n      ...form,\n      [\"file\"]: file.base64,\n    });\n  };\n\n  const handleChangeRadio = (e) => {\n    setOptionSelected(e.target.value);\n    console.log(optionSelected);\n  };\n  return (\n    <Modal\n      className=\"modal\"\n      ariaHideApp={false}\n      style={customStyles}\n      isOpen={modalIsOpen}\n      // contentLabel=\"Minimal Modal Example\"\n    >\n      <img\n        style={{ margin: \"10px\" }}\n        className=\"cross-out\"\n        onClick={openModal}\n        src={crossOut}\n        alt=\"\"\n      />\n      <div className=\"container-form-card\">\n        <div className=\"form-card\">\n          <div>\n            <h3>Â¡Sube tus cartas!</h3>\n          </div>\n          <div>\n            <input\n              name=\"title\"\n              value={form.title}\n              onChange={handleChange}\n              className=\"input-form-card\"\n              type=\"text\"\n              placeholder=\"Palabra en ingles\"\n            />\n          </div>\n          <div>\n            <input\n              name=\"meaning\"\n              value={form.meaning}\n              onChange={handleChange}\n              className=\"input-form-card\"\n              type=\"text\"\n              placeholder=\"signicado\"\n            />\n          </div>\n          <h2></h2>\n          <br />\n          <div>\n            Enviar imagen en:\n            <br />\n            <label htmlFor=\"file\">Archivo </label>\n            <input\n              onChange={handleChangeRadio}\n              id=\"file\"\n              name=\"btn-radio\"\n              type=\"radio\"\n              value=\"file\"\n            />\n            <br />\n            <label htmlFor=\"url\">Url </label>\n            <input\n              onChange={handleChangeRadio}\n              id=\"url\"\n              name=\"btn-radio\"\n              type=\"radio\"\n              value=\"url\"\n            />\n          </div>\n          <div></div>\n          {optionSelected === \"file\" ? (\n            <div className=\"main_div\">\n              <ReactFileReader handleFiles={handleFiles} base64={true}>\n                <button>\n                  {fileSelected\n                    ? \"Archivo seleccionado ðŸ˜€\"\n                    : \"Selecciona imagen\"}\n                </button>\n              </ReactFileReader>\n            </div>\n          ) : (\n            optionSelected === \"url\" && (\n              <div>\n                <input\n                  name=\"img_url\"\n                  value={form.img_url}\n                  onChange={handleChange}\n                  className=\"input-form-card\"\n                  type=\"text\"\n                  placeholder=\"DirecciÃ³n de la imagen\"\n                />\n              </div>\n            )\n          )}\n          <div>\n            <button\n              onClick={handleSubmit}\n              type=\"submit\"\n              className={showBtn ? \"btn-send-card\" : \"hide-btn-send-card\"}\n            >\n              Enviar\n            </button>\n          </div>\n          {isLoading && <LoaderThin></LoaderThin>}\n        </div>\n      </div>\n\n      {message && (\n        <div style={{ textAlign: \"center\", color: \"red\" }}>\n          ups Algo salio mal, intentalo de nuevo\n        </div>\n      )}\n    </Modal>\n  );\n};\n\nexport default FormCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}