{"ast":null,"code":"import \"./styles/postCards.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Heart from \"react-heart\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nimport AuthContext from \"../context/AuthContext\";\nimport { Link } from \"react-router-dom\";\nimport MenuBar from \"./MenuBar\"; // import remarkGfm from \"remark-gfm\";\n\nlet url = `https://englishapputc.herokuapp.com/api/postset/`;\nlet like = \"https://englishapputc.herokuapp.com/api/posts/\";\nconst params = {\n  method: \"GET\",\n  headers: {\n    accept: \"application/json\"\n  }\n};\n\nconst Posts = () => {// let { user } = useContext(AuthContext);\n  // let likedPosts = `https://englishapputc.herokuapp.com/api/posts/${user.user_id}`;\n  // const [likes, setLikes] = useState([]);\n  // const [posts, setPosts] = useState();\n  // const fetchAPi = async () => {\n  //   const response = await fetch(url, params);\n  //   const responseJSON = await response.json();\n  //   setPosts(responseJSON);\n  //   // console.log(responseJSON);\n  // };\n  // const getLikedPosts = async () => {\n  //   const response = await fetch(likedPosts, params);\n  //   const responseJSON = await response.json();\n  //   // setPosts(responseJSON);\n  //   // console.log(\"liked\", responseJSON);\n  //   responseJSON.posts_liked_by_user.map((post) => likes.push(post.id));\n  //   setLikes([...likes]);\n  // };\n  // useEffect(() => {\n  //   fetchAPi();\n  //   getLikedPosts();\n  // }, []);\n  // const handleLike = (post) => {\n  //   let index = likes.findIndex((x) => x === post.id);\n  //   if (index >= 0) {\n  //     likes.splice(index, 1);\n  //     post.likes_count -= 1;\n  //     let options = {\n  //       body: { is_like: false, id: post.id, user_id: user.user_id },\n  //       headers: { \"content-type\": \"application/json\" },\n  //     };\n  //     helpHttp()\n  //       .post(like, options)\n  //       .then((res) => console.log(res.message));\n  //   } else {\n  //     likes.push(post.id);\n  //     post.likes_count += 1;\n  //     let options = {\n  //       body: { is_like: true, id: post.id, user_id: user.user_id },\n  //       headers: { \"content-type\": \"application/json\" },\n  //     };\n  //     helpHttp()\n  //       .post(like, options)\n  //       .then((res) => console.log(res.message));\n  //   }\n  //   setLikes([...likes]);\n  //   // console.log(likes);\n  // };\n  // return (\n  //   <>\n  //     <div className=\"container-posts\">\n  //       {!posts ? (\n  //         <Loader></Loader>\n  //       ) : (\n  //         posts.map((post) => {\n  //           return (\n  //             <div key={post.id} className=\"card-post\">\n  //               <Link to={`/postpage/${post.id}`} className=\"link-post\">\n  //                 <div\n  //                   style={{ backgroundImage: \"url(\" + post.image_src + \")\" }}\n  //                   className=\"box-img-post-card\"\n  //                 >\n  //                   {/* <img\n  //                     className=\"image-post\"\n  //                     src={post.image_src}\n  //                     alt=\"Avatar\"\n  //                     style={{ width: \"100%\", maxHeight: \"100px\" }}\n  //                   /> */}\n  //                 </div>\n  //                 <div\n  //                   style={{ backgroundColor: `${post.categoria.color}` }}\n  //                   className=\"section-post\"\n  //                 >\n  //                   <span>{post.categoria.name}</span>\n  //                 </div>\n  //                 <div className=\"container-card-text\">\n  //                   <h3 className=\"title-post-card\">{post.title}</h3>\n  //                 </div>\n  //               </Link>\n  //               <div className=\"like-post\">\n  //                 <div className=\"heart-box\">\n  //                   {likes.findIndex((x) => x === post.id) >= 0 ? (\n  //                     <Heart\n  //                       onClick={handleLike.bind(this, post)}\n  //                       style={{ width: \"20px\" }}\n  //                       isActive={true}\n  //                     />\n  //                   ) : (\n  //                     <Heart\n  //                       onClick={handleLike.bind(this, post)}\n  //                       style={{ width: \"20px\" }}\n  //                       isActive={false}\n  //                     />\n  //                   )}\n  //                   <div className=\"number-likes-post\">\n  //                     {post.likes_count} Likes\n  //                   </div>\n  //                 </div>\n  //               </div>\n  //             </div>\n  //           );\n  //         })\n  //       )}\n  //     </div>\n  //     <MenuBar></MenuBar>\n  //   </>\n  // );\n};\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["useContext","useEffect","useState","Heart","Loader","helpHttp","AuthContext","Link","MenuBar","url","like","params","method","headers","accept","Posts"],"sources":["/home/yair/Desktop/what i delete form project/src/components/Posts.js"],"sourcesContent":["import \"./styles/postCards.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Heart from \"react-heart\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nimport AuthContext from \"../context/AuthContext\";\nimport { Link } from \"react-router-dom\";\nimport MenuBar from \"./MenuBar\";\n// import remarkGfm from \"remark-gfm\";\n\nlet url = `https://englishapputc.herokuapp.com/api/postset/`;\nlet like = \"https://englishapputc.herokuapp.com/api/posts/\";\n\nconst params = {\n  method: \"GET\",\n  headers: {\n    accept: \"application/json\",\n  },\n};\nconst Posts = () => {\n  // let { user } = useContext(AuthContext);\n  // let likedPosts = `https://englishapputc.herokuapp.com/api/posts/${user.user_id}`;\n  // const [likes, setLikes] = useState([]);\n  // const [posts, setPosts] = useState();\n  // const fetchAPi = async () => {\n  //   const response = await fetch(url, params);\n  //   const responseJSON = await response.json();\n  //   setPosts(responseJSON);\n  //   // console.log(responseJSON);\n  // };\n  // const getLikedPosts = async () => {\n  //   const response = await fetch(likedPosts, params);\n  //   const responseJSON = await response.json();\n  //   // setPosts(responseJSON);\n  //   // console.log(\"liked\", responseJSON);\n  //   responseJSON.posts_liked_by_user.map((post) => likes.push(post.id));\n  //   setLikes([...likes]);\n  // };\n  // useEffect(() => {\n  //   fetchAPi();\n  //   getLikedPosts();\n  // }, []);\n  // const handleLike = (post) => {\n  //   let index = likes.findIndex((x) => x === post.id);\n  //   if (index >= 0) {\n  //     likes.splice(index, 1);\n  //     post.likes_count -= 1;\n  //     let options = {\n  //       body: { is_like: false, id: post.id, user_id: user.user_id },\n  //       headers: { \"content-type\": \"application/json\" },\n  //     };\n  //     helpHttp()\n  //       .post(like, options)\n  //       .then((res) => console.log(res.message));\n  //   } else {\n  //     likes.push(post.id);\n  //     post.likes_count += 1;\n  //     let options = {\n  //       body: { is_like: true, id: post.id, user_id: user.user_id },\n  //       headers: { \"content-type\": \"application/json\" },\n  //     };\n  //     helpHttp()\n  //       .post(like, options)\n  //       .then((res) => console.log(res.message));\n  //   }\n  //   setLikes([...likes]);\n  //   // console.log(likes);\n  // };\n  // return (\n  //   <>\n  //     <div className=\"container-posts\">\n  //       {!posts ? (\n  //         <Loader></Loader>\n  //       ) : (\n  //         posts.map((post) => {\n  //           return (\n  //             <div key={post.id} className=\"card-post\">\n  //               <Link to={`/postpage/${post.id}`} className=\"link-post\">\n  //                 <div\n  //                   style={{ backgroundImage: \"url(\" + post.image_src + \")\" }}\n  //                   className=\"box-img-post-card\"\n  //                 >\n  //                   {/* <img\n  //                     className=\"image-post\"\n  //                     src={post.image_src}\n  //                     alt=\"Avatar\"\n  //                     style={{ width: \"100%\", maxHeight: \"100px\" }}\n  //                   /> */}\n  //                 </div>\n  //                 <div\n  //                   style={{ backgroundColor: `${post.categoria.color}` }}\n  //                   className=\"section-post\"\n  //                 >\n  //                   <span>{post.categoria.name}</span>\n  //                 </div>\n  //                 <div className=\"container-card-text\">\n  //                   <h3 className=\"title-post-card\">{post.title}</h3>\n  //                 </div>\n  //               </Link>\n  //               <div className=\"like-post\">\n  //                 <div className=\"heart-box\">\n  //                   {likes.findIndex((x) => x === post.id) >= 0 ? (\n  //                     <Heart\n  //                       onClick={handleLike.bind(this, post)}\n  //                       style={{ width: \"20px\" }}\n  //                       isActive={true}\n  //                     />\n  //                   ) : (\n  //                     <Heart\n  //                       onClick={handleLike.bind(this, post)}\n  //                       style={{ width: \"20px\" }}\n  //                       isActive={false}\n  //                     />\n  //                   )}\n  //                   <div className=\"number-likes-post\">\n  //                     {post.likes_count} Likes\n  //                   </div>\n  //                 </div>\n  //               </div>\n  //             </div>\n  //           );\n  //         })\n  //       )}\n  //     </div>\n  //     <MenuBar></MenuBar>\n  //   </>\n  // );\n};\n\nexport default Posts;\n"],"mappings":"AAAA,OAAO,wBAAP;AACA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CACA;;AAEA,IAAIC,GAAG,GAAI,kDAAX;AACA,IAAIC,IAAI,GAAG,gDAAX;AAEA,MAAMC,MAAM,GAAG;EACbC,MAAM,EAAE,KADK;EAEbC,OAAO,EAAE;IACPC,MAAM,EAAE;EADD;AAFI,CAAf;;AAMA,MAAMC,KAAK,GAAG,MAAM,CAClB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD,CA5GD;;KAAMA,K;AA8GN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}