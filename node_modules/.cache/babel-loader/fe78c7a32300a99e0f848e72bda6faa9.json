{"ast":null,"code":"import _regeneratorRuntime from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext}from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import AuthContext from\"../context/AuthContext\";import Loader from\"./Loader\";import{helpHttp}from\"../helpers/helpHttp\";import Modal from\"react-modal\";import MenuBar from\"./MenuBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var customStyles={content:{// color: \"white\",\nwidth:\"350px\",height:\"350px\",backgroundColor:\"#00000000\",outline:\"none\"},overlay:{zIndex:999,backgroundColor:\"#171515ce\"}};var urlImageCard=\"https://res.cloudinary.com/tolumaster/image/upload/v1/\";var DeleteCards=function DeleteCards(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalIsOpen=_useState4[0],setModalIsOpen=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),cardId=_useState6[0],setCardId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),actualCardTitle=_useState8[0],setActualCardTitle=_useState8[1];//   const [actualCardImg, setActualCardImg] = useState(\"\");\nvar fetchAPi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,responseJSON;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://englishapputc.herokuapp.com/api/usercards/\".concat(user.user_id);_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJSON=_context.sent;setCards(responseJSON);console.log(responseJSON);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchAPi(){return _ref.apply(this,arguments);};}();var deleteCardF=function deleteCardF(){var urlDel=\"https://englishapputc.herokuapp.com/api/delcard/\".concat(cardId);helpHttp().del(urlDel).then(function(res){console.log(res);setModalIsOpen(false);fetchAPi();});};var openModal=function openModal(){modalIsOpen?setModalIsOpen(false):setModalIsOpen(true);};var getCurrentData=function getCurrentData(title,id){setActualCardTitle(title);setCardId(id);// setActualCardImg(img);\n};useEffect(function(){fetchAPi();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-cards-delete\",children:!cards?/*#__PURE__*/_jsx(Loader,{}):cards.cards.map(function(card){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-card-delete\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\",margin:\"5px\"},children:card.cardTitle}),/*#__PURE__*/_jsx(\"img\",{className:\"delete-img-card\",src:card.cardImage===\"\"?card.imageURL:urlImageCard+card.cardImage,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){openModal();getCurrentData(card.cardTitle,card.id);},className:\"btn-delete-card\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Eliminar\"})})})]},card.id);})}),/*#__PURE__*/_jsx(Modal,{className:\"modal-delete-card\",ariaHideApp:false,style:customStyles,isOpen:modalIsOpen,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-alert-text\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\xA1Se eliminara la carta:\",/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:\"white\",color:\"#087FFF\",borderRadius:\"5px\"},children:actualCardTitle}),\"!\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteCardF,className:\"btn-delete-card\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"ok\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel-delete\",onClick:openModal,children:/*#__PURE__*/_jsx(\"h3\",{children:\"Cancelar\"})})]})}),/*#__PURE__*/_jsx(MenuBar,{})]});};export default DeleteCards;","map":{"version":3,"names":["useContext","useEffect","useState","AuthContext","Loader","helpHttp","Modal","MenuBar","customStyles","content","width","height","backgroundColor","outline","overlay","zIndex","urlImageCard","DeleteCards","user","cards","setCards","modalIsOpen","setModalIsOpen","cardId","setCardId","actualCardTitle","setActualCardTitle","fetchAPi","url","user_id","fetch","response","json","responseJSON","console","log","deleteCardF","urlDel","del","then","res","openModal","getCurrentData","title","id","map","card","textAlign","margin","cardTitle","cardImage","imageURL","color","borderRadius"],"sources":["/home/yair/Desktop/what i delete form project/src/components/DeleteCards.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helpers/helpHttp\";\n\nimport Modal from \"react-modal\";\nimport MenuBar from \"./MenuBar\";\nconst customStyles = {\n  content: {\n    // color: \"white\",\n\n    width: \"350px\",\n    height: \"350px\",\n    backgroundColor: \"#00000000\",\n\n    outline: \"none\",\n  },\n  overlay: { zIndex: 999, backgroundColor: \"#171515ce\" },\n};\nconst urlImageCard = \"https://res.cloudinary.com/tolumaster/image/upload/v1/\";\n\nconst DeleteCards = () => {\n  let { user } = useContext(AuthContext);\n\n  const [cards, setCards] = useState();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [cardId, setCardId] = useState();\n  const [actualCardTitle, setActualCardTitle] = useState(\"\");\n  //   const [actualCardImg, setActualCardImg] = useState(\"\");\n  const fetchAPi = async () => {\n    let url = `https://englishapputc.herokuapp.com/api/usercards/${user.user_id}`;\n\n    const response = await fetch(url);\n    const responseJSON = await response.json();\n    setCards(responseJSON);\n    console.log(responseJSON);\n  };\n  const deleteCardF = () => {\n    let urlDel = `https://englishapputc.herokuapp.com/api/delcard/${cardId}`;\n\n    helpHttp()\n      .del(urlDel)\n      .then((res) => {\n        console.log(res);\n        setModalIsOpen(false);\n        fetchAPi();\n      });\n  };\n  const openModal = () => {\n    modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n  };\n  const getCurrentData = (title, id) => {\n    setActualCardTitle(title);\n    setCardId(id);\n    // setActualCardImg(img);\n  };\n\n  useEffect(() => {\n    fetchAPi();\n  }, []);\n\n  return (\n    <>\n      <div className=\"container-cards-delete\">\n        {!cards ? (\n          <Loader></Loader>\n        ) : (\n          cards.cards.map((card) => {\n            return (\n              <div key={card.id} className=\"container-card-delete\">\n                <h3 style={{ textAlign: \"center\", margin: \"5px\" }}>\n                  {card.cardTitle}\n                </h3>\n                <img\n                  className=\"delete-img-card\"\n                  src={\n                    card.cardImage === \"\"\n                      ? card.imageURL\n                      : urlImageCard + card.cardImage\n                  }\n                  alt=\"\"\n                />\n                <div style={{ textAlign: \"center\" }}>\n                  <button\n                    onClick={() => {\n                      openModal();\n                      getCurrentData(card.cardTitle, card.id);\n                    }}\n                    className=\"btn-delete-card\"\n                  >\n                    <h4>Eliminar</h4>\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n      <Modal\n        className=\"modal-delete-card\"\n        ariaHideApp={false}\n        style={customStyles}\n        isOpen={modalIsOpen}\n      >\n        <div style={{ textAlign: \"center\" }}>\n          <div className=\"container-alert-text\">\n            <h2>\n              Â¡Se eliminara la carta:\n              <span\n                style={{\n                  backgroundColor: \"white\",\n                  color: \"#087FFF\",\n                  borderRadius: \"5px\",\n                }}\n              >\n                {actualCardTitle}\n              </span>\n              !\n            </h2>\n          </div>\n          <button onClick={deleteCardF} className=\"btn-delete-card\">\n            <h3>ok</h3>\n          </button>\n          <button className=\"btn-cancel-delete\" onClick={openModal}>\n            <h3>Cancelar</h3>\n          </button>\n        </div>\n      </Modal>\n      <MenuBar></MenuBar>\n    </>\n  );\n};\n\nexport default DeleteCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}