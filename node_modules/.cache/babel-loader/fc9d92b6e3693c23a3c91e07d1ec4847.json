{"ast":null,"code":"import _regeneratorRuntime from\"/home/yair/Desktop/xd/EnglishApp-main/duolingoDjango/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/yair/Desktop/xd/EnglishApp-main/duolingoDjango/project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/yair/Desktop/xd/EnglishApp-main/duolingoDjango/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var helpHttp=function helpHttp(){var customFetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(endpoint,options){var defaultHeader,controller,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:defaultHeader={accept:\"application/json\"};controller=new AbortController();options.signal=controller.signal;options.method=options.method||\"GET\";options.headers=options.headers?_objectSpread(_objectSpread({},defaultHeader),options.headers):defaultHeader;options.body=JSON.stringify(options.body)||false;if(!options.body)delete options.body;//console.log(options);\nsetTimeout(function(){return controller.abort();},3000);_context.prev=8;_context.next=11;return fetch(endpoint,options);case 11:res=_context.sent;_context.next=14;return res.ok?res.json():Promise.reject({err:true,status:res.status||\"00\",statusText:res.statusText||\"Ocurrió un error\"});case 14:return _context.abrupt(\"return\",_context.sent);case 17:_context.prev=17;_context.t0=_context[\"catch\"](8);return _context.abrupt(\"return\",_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[8,17]]);}));return function customFetch(_x,_x2){return _ref.apply(this,arguments);};}();var get=function get(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return customFetch(url,options);};var post=function post(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method=\"POST\";return customFetch(url,options);};var put=function put(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method=\"PUT\";return customFetch(url,options);};var del=function del(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.method=\"DELETE\";return customFetch(url,options);};return{get:get,post:post,put:put,del:del};};","map":{"version":3,"names":["helpHttp","customFetch","endpoint","options","defaultHeader","accept","controller","AbortController","signal","method","headers","body","JSON","stringify","setTimeout","abort","fetch","res","ok","json","Promise","reject","err","status","statusText","get","url","post","put","del"],"sources":["/home/yair/Desktop/xd/EnglishApp-main/duolingoDjango/project/src/helpers/helpHttp.js"],"sourcesContent":["\nexport const helpHttp = () => {\n    const customFetch = async (endpoint, options) => {\n        const defaultHeader = {\n            accept: \"application/json\",\n        };\n\n        const controller = new AbortController();\n        options.signal = controller.signal;\n\n        options.method = options.method || \"GET\";\n        options.headers = options.headers\n            ? { ...defaultHeader, ...options.headers }\n            : defaultHeader;\n\n        options.body = JSON.stringify(options.body) || false;\n        if (!options.body) delete options.body;\n\n        //console.log(options);\n        setTimeout(() => controller.abort(), 3000);\n\n        try {\n            const res = await fetch(endpoint, options);\n            return await (\n                res.ok\n                    ? res.json()\n                    : Promise.reject({\n                        err: true,\n                        status: res.status || \"00\",\n                        statusText: res.statusText || \"Ocurrió un error\",\n                    }));\n        } catch (err) {\n            return err;\n        }\n    };\n\n    const get = (url, options = {}) => customFetch(url, options);\n\n    const post = (url, options = {}) => {\n        options.method = \"POST\";\n        return customFetch(url, options);\n    };\n\n    const put = (url, options = {}) => {\n        options.method = \"PUT\";\n        return customFetch(url, options);\n    };\n\n    const del = (url, options = {}) => {\n        options.method = \"DELETE\";\n        return customFetch(url, options);\n    };\n\n    return {\n        get,\n        post,\n        put,\n        del,\n    };\n};"],"mappings":"qcACA,MAAO,IAAMA,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC1B,GAAMC,YAAW,4FAAG,iBAAOC,QAAP,CAAiBC,OAAjB,qJACVC,aADU,CACM,CAClBC,MAAM,CAAE,kBADU,CADN,CAKVC,UALU,CAKG,GAAIC,gBAAJ,EALH,CAMhBJ,OAAO,CAACK,MAAR,CAAiBF,UAAU,CAACE,MAA5B,CAEAL,OAAO,CAACM,MAAR,CAAiBN,OAAO,CAACM,MAAR,EAAkB,KAAnC,CACAN,OAAO,CAACO,OAAR,CAAkBP,OAAO,CAACO,OAAR,gCACPN,aADO,EACWD,OAAO,CAACO,OADnB,EAEZN,aAFN,CAIAD,OAAO,CAACQ,IAAR,CAAeC,IAAI,CAACC,SAAL,CAAeV,OAAO,CAACQ,IAAvB,GAAgC,KAA/C,CACA,GAAI,CAACR,OAAO,CAACQ,IAAb,CAAmB,MAAOR,QAAO,CAACQ,IAAf,CAEnB;AACAG,UAAU,CAAC,iBAAMR,WAAU,CAACS,KAAX,EAAN,EAAD,CAA2B,IAA3B,CAAV,CAjBgB,uCAoBMC,MAAK,CAACd,QAAD,CAAWC,OAAX,CApBX,SAoBNc,GApBM,sCAsBRA,IAAG,CAACC,EAAJ,CACMD,GAAG,CAACE,IAAJ,EADN,CAEMC,OAAO,CAACC,MAAR,CAAe,CACbC,GAAG,CAAE,IADQ,CAEbC,MAAM,CAAEN,GAAG,CAACM,MAAJ,EAAc,IAFT,CAGbC,UAAU,CAAEP,GAAG,CAACO,UAAJ,EAAkB,kBAHjB,CAAf,CAxBE,oOAAH,kBAAXvB,YAAW,gDAAjB,CAkCA,GAAMwB,IAAG,CAAG,QAANA,IAAM,CAACC,GAAD,KAAMvB,QAAN,2DAAgB,EAAhB,OAAuBF,YAAW,CAACyB,GAAD,CAAMvB,OAAN,CAAlC,EAAZ,CAEA,GAAMwB,KAAI,CAAG,QAAPA,KAAO,CAACD,GAAD,CAAuB,IAAjBvB,QAAiB,2DAAP,EAAO,CAChCA,OAAO,CAACM,MAAR,CAAiB,MAAjB,CACA,MAAOR,YAAW,CAACyB,GAAD,CAAMvB,OAAN,CAAlB,CACH,CAHD,CAKA,GAAMyB,IAAG,CAAG,QAANA,IAAM,CAACF,GAAD,CAAuB,IAAjBvB,QAAiB,2DAAP,EAAO,CAC/BA,OAAO,CAACM,MAAR,CAAiB,KAAjB,CACA,MAAOR,YAAW,CAACyB,GAAD,CAAMvB,OAAN,CAAlB,CACH,CAHD,CAKA,GAAM0B,IAAG,CAAG,QAANA,IAAM,CAACH,GAAD,CAAuB,IAAjBvB,QAAiB,2DAAP,EAAO,CAC/BA,OAAO,CAACM,MAAR,CAAiB,QAAjB,CACA,MAAOR,YAAW,CAACyB,GAAD,CAAMvB,OAAN,CAAlB,CACH,CAHD,CAKA,MAAO,CACHsB,GAAG,CAAHA,GADG,CAEHE,IAAI,CAAJA,IAFG,CAGHC,GAAG,CAAHA,GAHG,CAIHC,GAAG,CAAHA,GAJG,CAAP,CAMH,CA1DM"},"metadata":{},"sourceType":"module"}