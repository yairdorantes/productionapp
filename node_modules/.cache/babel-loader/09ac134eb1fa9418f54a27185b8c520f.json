{"ast":null,"code":"import _regeneratorRuntime from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import\"./styles/cardStyles.css\";import{Swiper,SwiperSlide}from\"swiper/react\";import\"swiper/css\";import\"swiper/css/effect-cards\";import\"./styles/stylesCards.css\";import{Pagination,EffectCards,Mousewheel,Keyboard}from\"swiper\";import wordSound from\"../media/cards/audio.png\";import iconAdd from\"../media/add.png\";import Loader from\"./Loader\";import AboutUser from\"./AboutUser\";import CardTuto from\"./CardTuto\";import MenuBar from\"./MenuBar\";import{Link,NavLink,useParams}from\"react-router-dom\";import AuthContext from\"../context/AuthContext\";import FormCard from\"./FormCard\";import PayPal from\"./PayPal\";import{helpHttp}from\"../helpers/helpHttp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var url=\"\";var urlImageCard=\"https://res.cloudinary.com/tolumaster/image/upload/v1/\";var Cards=function Cards(){var _useContext=useContext(AuthContext),user=_useContext.user;var paramsUrl=useParams();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalIsOpen=_useState4[0],setModalIsOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPremium=_useState6[0],setIsPremium=_useState6[1];// const [url, setUrl] = useState(\"\");\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];var params={method:\"GET\",headers:{accept:\"application/json\"}};var fetchAPi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,responseJSON;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:paramsUrl.section===\"mis-cartas\"?url=\"https://englishapputc.herokuapp.com/api/usercards/\".concat(user.user_id):url=\"https://englishapputc.herokuapp.com/api/cards/\".concat(paramsUrl.section);_context.next=3;return fetch(url,params);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJSON=_context.sent;setCards(responseJSON);console.log(responseJSON.cards.length);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchAPi(){return _ref.apply(this,arguments);};}();var getUserData=function getUserData(){helpHttp().get(\"https://englishapputc.herokuapp.com/api/users/\".concat(user.user_id)).then(function(res){// console.log(res.user.premium);\nsetIsPremium(res.user.premium);});};useEffect(function(){fetchAPi();getUserData();// console.log(setCards);\n},[]);var handleDisplay=function handleDisplay(e){isActive?setIsActive(false):setIsActive(true);};var speechSynthesis=require(\"speech-synthesis\");var openModal=function openModal(e){// e.preventDefault();\nmodalIsOpen?setModalIsOpen(false):setModalIsOpen(true);};// var cont = -1;\n// var arr = [\"#1F1A24\", \"#282A36\"];\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AboutUser,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"all-cards\",children:[paramsUrl.section===\"mis-cartas\"&&/*#__PURE__*/_jsx(\"div\",{className:\"del-cards\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/delete\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete-cards\",children:\"Eliminar cartas\"})})}),/*#__PURE__*/_jsx(Swiper,{keyboard:true,mousewheel:true,className:\"mySwiper\",effect:\"cards\",modules:[EffectCards,Mousewheel,Pagination,Keyboard],children:!cards?/*#__PURE__*/_jsx(Loader,{}):!cards.cards?/*#__PURE__*/_jsx(\"div\",{className:\"nada-por-aqui\",children:\"Nada por aqui...\"}):cards.cards.map(function(card,key){console.log(cards);return/*#__PURE__*/_jsx(SwiperSlide,{style:{borderColor:\"white\",backgroundImage:\"url(\"+(card.imageURL===\"\"?urlImageCard+card.cardImage:card.imageURL)+\")\"},className:\"swiper-slide-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"contenido-card\",children:[/*#__PURE__*/_jsx(\"h3\",{onClick:handleDisplay,className:\"card-text\",children:isActive?card.cardTitle:card.cardMeaning}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-sound-card\",onClick:function onClick(){speechSynthesis(card.cardTitle);// console.log(card.cardTitle);\n},children:/*#__PURE__*/_jsx(\"img\",{className:\"word-sound\",src:wordSound,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{})]})})})},card.id);})}),paramsUrl.section===\"mis-cartas\"&&/*#__PURE__*/_jsx(\"div\",{className:\"container-icon-add\",children:cards.cards&&cards.cards.length>=10&&!isPremium?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-updatein-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-no-more-cards\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Para seguir agregando cartas, actual\\xEDzate a premium\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PayPal,{})})]})}):/*#__PURE__*/_jsx(\"img\",{onClick:openModal,className:\"icon-add\",src:iconAdd,alt:\"\"})})]}),/*#__PURE__*/_jsx(FormCard,{fetchApi:fetchAPi,modalIsOpen:modalIsOpen,openModal:openModal}),/*#__PURE__*/_jsx(MenuBar,{})]});};export default Cards;","map":{"version":3,"names":["React","useContext","useEffect","useState","Swiper","SwiperSlide","Pagination","EffectCards","Mousewheel","Keyboard","wordSound","iconAdd","Loader","AboutUser","CardTuto","MenuBar","Link","NavLink","useParams","AuthContext","FormCard","PayPal","helpHttp","url","urlImageCard","Cards","user","paramsUrl","isActive","setIsActive","modalIsOpen","setModalIsOpen","isPremium","setIsPremium","cards","setCards","params","method","headers","accept","fetchAPi","section","user_id","fetch","response","json","responseJSON","console","log","length","getUserData","get","then","res","premium","handleDisplay","e","speechSynthesis","require","openModal","map","card","key","borderColor","backgroundImage","imageURL","cardImage","cardTitle","cardMeaning","id"],"sources":["/home/yair/Desktop/what i delete form project/src/components/Cards.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport \"./styles/cardStyles.css\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport \"swiper/css\";\nimport \"swiper/css/effect-cards\";\nimport \"./styles/stylesCards.css\";\nimport { Pagination, EffectCards, Mousewheel, Keyboard } from \"swiper\";\nimport wordSound from \"../media/cards/audio.png\";\nimport iconAdd from \"../media/add.png\";\nimport Loader from \"./Loader\";\nimport AboutUser from \"./AboutUser\";\nimport CardTuto from \"./CardTuto\";\nimport MenuBar from \"./MenuBar\";\nimport { Link, NavLink, useParams } from \"react-router-dom\";\nimport AuthContext from \"../context/AuthContext\";\nimport FormCard from \"./FormCard\";\nimport PayPal from \"./PayPal\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nlet url = \"\";\nconst urlImageCard = \"https://res.cloudinary.com/tolumaster/image/upload/v1/\";\nconst Cards = () => {\n  let { user } = useContext(AuthContext);\n  const paramsUrl = useParams();\n  const [isActive, setIsActive] = useState(true);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [isPremium, setIsPremium] = useState(false);\n\n  // const [url, setUrl] = useState(\"\");\n\n  const [cards, setCards] = useState([]);\n  const params = {\n    method: \"GET\",\n    headers: {\n      accept: \"application/json\",\n    },\n  };\n\n  const fetchAPi = async () => {\n    paramsUrl.section === \"mis-cartas\"\n      ? (url = `https://englishapputc.herokuapp.com/api/usercards/${user.user_id}`)\n      : (url = `https://englishapputc.herokuapp.com/api/cards/${paramsUrl.section}`);\n    const response = await fetch(url, params);\n    const responseJSON = await response.json();\n    setCards(responseJSON);\n    console.log(responseJSON.cards.length);\n  };\n\n  const getUserData = () => {\n    helpHttp()\n      .get(`https://englishapputc.herokuapp.com/api/users/${user.user_id}`)\n      .then((res) => {\n        // console.log(res.user.premium);\n        setIsPremium(res.user.premium);\n      });\n  };\n\n  useEffect(() => {\n    fetchAPi();\n    getUserData();\n    // console.log(setCards);\n  }, []);\n\n  const handleDisplay = (e) => {\n    isActive ? setIsActive(false) : setIsActive(true);\n  };\n\n  var speechSynthesis = require(\"speech-synthesis\");\n  const openModal = (e) => {\n    // e.preventDefault();\n    modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n  };\n  // var cont = -1;\n  // var arr = [\"#1F1A24\", \"#282A36\"];\n  return (\n    <>\n      <AboutUser></AboutUser>\n\n      <div className=\"all-cards\">\n        {paramsUrl.section === \"mis-cartas\" && (\n          <div className=\"del-cards\">\n            <NavLink to=\"/delete\">\n              <button className=\"btn-delete-cards\">Eliminar cartas</button>\n            </NavLink>\n          </div>\n        )}\n\n        <Swiper\n          keyboard={true}\n          mousewheel={true}\n          className=\"mySwiper\"\n          effect={\"cards\"}\n          modules={[EffectCards, Mousewheel, Pagination, Keyboard]}\n        >\n          {/* <CardTuto></CardTuto> */}\n          {!cards ? (\n            <Loader></Loader>\n          ) : !cards.cards ? (\n            <div className=\"nada-por-aqui\">Nada por aqui...</div>\n          ) : (\n            cards.cards.map((card, key) => {\n              console.log(cards);\n              return (\n                <SwiperSlide\n                  style={{\n                    borderColor: \"white\",\n                    backgroundImage:\n                      \"url(\" +\n                      (card.imageURL === \"\"\n                        ? urlImageCard + card.cardImage\n                        : card.imageURL) +\n                      \")\",\n                  }}\n                  className=\"swiper-slide-card\"\n                  key={card.id}\n                >\n                  <div className=\"container-card\">\n                    <div className=\"card\">\n                      {/* <img className=\"image-cards\" src={card.imageURL} alt=\"\" /> */}\n                      <div className=\"contenido-card\">\n                        <h3 onClick={handleDisplay} className=\"card-text\">\n                          {isActive ? card.cardTitle : card.cardMeaning}\n                        </h3>\n                        <button\n                          className=\"btn-sound-card\"\n                          onClick={() => {\n                            speechSynthesis(card.cardTitle);\n                            // console.log(card.cardTitle);\n                          }}\n                        >\n                          <img className=\"word-sound\" src={wordSound} alt=\"\" />\n                        </button>\n                        <div>\n                          {/* <img src={urlImageCard + card.cardImage} alt=\"\" /> */}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </SwiperSlide>\n              );\n            })\n          )}\n        </Swiper>\n        {paramsUrl.section === \"mis-cartas\" && (\n          <div className=\"container-icon-add\">\n            {cards.cards && cards.cards.length >= 10 && !isPremium ? (\n              <>\n                <div className=\"container-updatein-card\">\n                  <div className=\"alert-no-more-cards\">\n                    <strong>\n                      Para seguir agregando cartas, actualízate a premium\n                    </strong>\n                  </div>\n                  <div>\n                    <PayPal></PayPal>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <img\n                onClick={openModal}\n                className=\"icon-add\"\n                src={iconAdd}\n                alt=\"\"\n              />\n            )}\n          </div>\n        )}\n      </div>\n      <FormCard\n        fetchApi={fetchAPi}\n        modalIsOpen={modalIsOpen}\n        openModal={openModal}\n      ></FormCard>\n      <MenuBar></MenuBar>\n    </>\n  );\n};\n\nexport default Cards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}