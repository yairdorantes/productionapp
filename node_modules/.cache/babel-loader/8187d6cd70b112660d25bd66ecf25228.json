{"ast":null,"code":"import _regeneratorRuntime from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext}from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import AuthContext from\"../context/AuthContext\";import Loader from\"./Loader\";import{helpHttp}from\"../helpers/helpHttp\";import pencil from\"../media/lapiz.png\";import delIcon from\"../media/delete.png\";import Modal from\"react-modal\";import MenuBar from\"./MenuBar\";import\"./styles/modifyCards.css\";import FormCard from\"./FormCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var customStyles={content:{// color: \"white\",\nwidth:\"350px\",height:\"350px\",backgroundColor:\"#00000000\",outline:\"none\"},overlay:{zIndex:999,backgroundColor:\"#171515ce\"}};var urlImageCard=\"https://res.cloudinary.com/tolumaster/image/upload/v1/\";var DeleteCards=function DeleteCards(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalIsOpen=_useState4[0],setModalIsOpen=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),cardId=_useState6[0],setCardId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),actualCardTitle=_useState8[0],setActualCardTitle=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),cardToEdit=_useState10[0],setCardToEdit=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),editOrDelete=_useState12[0],setEditOrDelete=_useState12[1];//   const [actualCardImg, setActualCardImg] = useState(\"\");\nvar fetchAPi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,responseJSON;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://englishapputc.herokuapp.com/api/usercards/\".concat(user.user_id);_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJSON=_context.sent;setCards(responseJSON);console.log(responseJSON);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchAPi(){return _ref.apply(this,arguments);};}();var deleteCardF=function deleteCardF(){var urlDel=\"https://englishapputc.herokuapp.com/api/delcard/\".concat(cardId);helpHttp().del(urlDel).then(function(res){console.log(res);setModalIsOpen(false);fetchAPi();});};var openModal=function openModal(){modalIsOpen?setModalIsOpen(false):setModalIsOpen(true);};var getCurrentData=function getCurrentData(title,id){setEditOrDelete(\"del\");setActualCardTitle(title);setCardId(id);// setActualCardImg(img);\n};var editCard=function editCard(_editCard){setEditOrDelete(\"put\");setCardToEdit(_editCard);console.log(_editCard);};useEffect(function(){fetchAPi();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-cards-delete\",children:!cards?/*#__PURE__*/_jsx(Loader,{}):!cards.cards?/*#__PURE__*/_jsx(\"div\",{children:\"Nada para borrar\"}):cards.cards.map(function(card){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-card-delete\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\",margin:\"5px\"},children:card.cardTitle}),/*#__PURE__*/_jsx(\"img\",{className:\"delete-img-card\",src:card.cardImage===\"\"?card.imageURL:urlImageCard+card.cardImage,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-icons-edit\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){openModal();editCard(card);},className:\"pencil-icon\",src:pencil,alt:\"\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){openModal();getCurrentData(card.cardTitle,card.id);},className:\"del-icon\",src:delIcon})]})]},card.id);})}),editOrDelete===\"put\"&&/*#__PURE__*/_jsx(FormCard,{modalIsOpen:modalIsOpen,openModal:openModal,cardData:cardToEdit,fetchApi:fetchAPi}),editOrDelete===\"del\"&&/*#__PURE__*/_jsx(Modal,{className:\"modal-delete-card\",ariaHideApp:false,style:customStyles,isOpen:modalIsOpen,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-alert-text\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\xA1Se eliminara la carta:\",/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:\"white\",color:\"#087FFF\",borderRadius:\"5px\"},children:actualCardTitle}),\"!\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteCardF,className:\"btn-delete-card\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"ok\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel-delete\",onClick:openModal,children:/*#__PURE__*/_jsx(\"h3\",{children:\"Cancelar\"})})]})}),/*#__PURE__*/_jsx(MenuBar,{})]});};export default DeleteCards;","map":{"version":3,"names":["useContext","useEffect","useState","AuthContext","Loader","helpHttp","pencil","delIcon","Modal","MenuBar","FormCard","customStyles","content","width","height","backgroundColor","outline","overlay","zIndex","urlImageCard","DeleteCards","user","cards","setCards","modalIsOpen","setModalIsOpen","cardId","setCardId","actualCardTitle","setActualCardTitle","cardToEdit","setCardToEdit","editOrDelete","setEditOrDelete","fetchAPi","url","user_id","fetch","response","json","responseJSON","console","log","deleteCardF","urlDel","del","then","res","openModal","getCurrentData","title","id","editCard","map","card","textAlign","margin","cardTitle","cardImage","imageURL","color","borderRadius"],"sources":["/home/yair/Desktop/what i delete form project/src/components/DeleteCards.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nimport pencil from \"../media/lapiz.png\";\nimport delIcon from \"../media/delete.png\";\nimport Modal from \"react-modal\";\nimport MenuBar from \"./MenuBar\";\nimport \"./styles/modifyCards.css\";\nimport FormCard from \"./FormCard\";\nconst customStyles = {\n  content: {\n    // color: \"white\",\n\n    width: \"350px\",\n    height: \"350px\",\n    backgroundColor: \"#00000000\",\n\n    outline: \"none\",\n  },\n  overlay: { zIndex: 999, backgroundColor: \"#171515ce\" },\n};\nconst urlImageCard = \"https://res.cloudinary.com/tolumaster/image/upload/v1/\";\n\nconst DeleteCards = () => {\n  let { user } = useContext(AuthContext);\n\n  const [cards, setCards] = useState();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [cardId, setCardId] = useState();\n  const [actualCardTitle, setActualCardTitle] = useState(\"\");\n  const [cardToEdit, setCardToEdit] = useState();\n  const [editOrDelete, setEditOrDelete] = useState();\n  //   const [actualCardImg, setActualCardImg] = useState(\"\");\n  const fetchAPi = async () => {\n    let url = `https://englishapputc.herokuapp.com/api/usercards/${user.user_id}`;\n\n    const response = await fetch(url);\n    const responseJSON = await response.json();\n    setCards(responseJSON);\n    console.log(responseJSON);\n  };\n  const deleteCardF = () => {\n    let urlDel = `https://englishapputc.herokuapp.com/api/delcard/${cardId}`;\n\n    helpHttp()\n      .del(urlDel)\n      .then((res) => {\n        console.log(res);\n        setModalIsOpen(false);\n        fetchAPi();\n      });\n  };\n  const openModal = () => {\n    modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n  };\n  const getCurrentData = (title, id) => {\n    setEditOrDelete(\"del\");\n    setActualCardTitle(title);\n    setCardId(id);\n    // setActualCardImg(img);\n  };\n  const editCard = (editCard) => {\n    setEditOrDelete(\"put\");\n    setCardToEdit(editCard);\n    console.log(editCard);\n  };\n\n  useEffect(() => {\n    fetchAPi();\n  }, []);\n\n  return (\n    <>\n      <div className=\"container-cards-delete\">\n        {!cards ? (\n          <Loader></Loader>\n        ) : !cards.cards ? (\n          <div>Nada para borrar</div>\n        ) : (\n          cards.cards.map((card) => {\n            return (\n              <div key={card.id} className=\"container-card-delete\">\n                <h3 style={{ textAlign: \"center\", margin: \"5px\" }}>\n                  {card.cardTitle}\n                </h3>\n                <img\n                  className=\"delete-img-card\"\n                  src={\n                    card.cardImage === \"\"\n                      ? card.imageURL\n                      : urlImageCard + card.cardImage\n                  }\n                  alt=\"\"\n                />\n                <div className=\"container-icons-edit\">\n                  <img\n                    onClick={() => {\n                      openModal();\n                      editCard(card);\n                    }}\n                    className=\"pencil-icon\"\n                    src={pencil}\n                    alt=\"\"\n                  />\n                  <img\n                    onClick={() => {\n                      openModal();\n                      getCurrentData(card.cardTitle, card.id);\n                    }}\n                    className=\"del-icon\"\n                    src={delIcon}\n                  />\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n      {editOrDelete === \"put\" && (\n        <FormCard\n          modalIsOpen={modalIsOpen}\n          openModal={openModal}\n          cardData={cardToEdit}\n          fetchApi={fetchAPi}\n        />\n      )}\n      {editOrDelete === \"del\" && (\n        <Modal\n          className=\"modal-delete-card\"\n          ariaHideApp={false}\n          style={customStyles}\n          isOpen={modalIsOpen}\n        >\n          <div style={{ textAlign: \"center\" }}>\n            <div className=\"container-alert-text\">\n              <h2>\n                ¡Se eliminara la carta:\n                <span\n                  style={{\n                    backgroundColor: \"white\",\n                    color: \"#087FFF\",\n                    borderRadius: \"5px\",\n                  }}\n                >\n                  {actualCardTitle}\n                </span>\n                !\n              </h2>\n            </div>\n            <button onClick={deleteCardF} className=\"btn-delete-card\">\n              <h3>ok</h3>\n            </button>\n            <button className=\"btn-cancel-delete\" onClick={openModal}>\n              <h3>Cancelar</h3>\n            </button>\n          </div>\n        </Modal>\n      )}\n      <MenuBar></MenuBar>\n    </>\n  );\n};\n\nexport default DeleteCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}