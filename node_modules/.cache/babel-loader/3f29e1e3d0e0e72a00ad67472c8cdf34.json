{"ast":null,"code":"import _defineProperty from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./styles/formCard.css\";import{helpHttp}from\"../helpers/helpHttp\";import{useContext}from\"react\";import AuthContext from\"../context/AuthContext\";import ReactFileReader from\"react-file-reader\";import Modal from\"react-modal\";import crossOut from\"../media/crossout.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"https://englishapputc.herokuapp.com/api/cards/\";var customStyles={content:{// color: \"white\",\nwidth:\"350px\",height:\"350px\",backgroundColor:\"#00000000\",outline:\"none\"},overlay:{zIndex:999,backgroundColor:\"#18191ab1\"}};var FormCard=function FormCard(_ref){var modalIsOpen=_ref.modalIsOpen,openModal=_ref.openModal,fetchApi=_ref.fetchApi;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];// const [modalIsOpen, setModalIsOpen] = useState(true);\nvar _useContext=useContext(AuthContext),user=_useContext.user;var initialForm={user:user.user_id,title:\"\",meaning:\"\",file:\"\"};// const openModal = (e) => {\n//   // e.preventDefault();\n//   modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n// };\nvar _useState3=useState(initialForm),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var createData=function createData(data){console.log(form);// if (!form.title === \"\" || !form.meaning === \"\" || !form.file === \"\") {\nif(form.title===\"\"||form.meaning===\"\"||form.file===\"\"){alert(\"llena todo, no seas mamon xd\");}else{var options={body:data,headers:{\"content-type\":\"multipart/form-data\"}};helpHttp().post(url,options).then(function(res){res.err?setMessage(true):setMessage(false);fetchApi();});}// } else {\n//   alert(\"llena\");\n// }\n};var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(e.taget);\nconsole.log(form);createData(form);};var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleFiles=function handleFiles(file){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},\"file\",file.base64)));};return/*#__PURE__*/_jsxs(Modal,{className:\"modal\",ariaHideApp:false,style:customStyles,isOpen:modalIsOpen// contentLabel=\"Minimal Modal Example\"\n,children:[/*#__PURE__*/_jsx(\"img\",{style:{margin:\"10px\"},className:\"cross-out\",onClick:openModal,src:crossOut,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-form-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-card\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\xA1Sube tus cartas!\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"title\",value:form.title,onChange:handleChange,className:\"input-form-card\",type:\"text\",placeholder:\"Palabra en ingles\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"meaning\",value:form.meaning,onChange:handleChange,className:\"input-form-card\",type:\"text\",placeholder:\"signicado\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"main_div\",children:/*#__PURE__*/_jsx(ReactFileReader,{handleFiles:handleFiles,base64:true,children:/*#__PURE__*/_jsx(\"button\",{children:\"Selecciona imagen\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",className:\"btn-send-card\",children:\"Enviar\"})})]})}),message&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",color:\"red\"},children:\"ups Algo salio mal, intentalo de nuevo\"})]});};export default FormCard;","map":{"version":3,"names":["useState","helpHttp","useContext","AuthContext","ReactFileReader","Modal","crossOut","url","customStyles","content","width","height","backgroundColor","outline","overlay","zIndex","FormCard","modalIsOpen","openModal","fetchApi","message","setMessage","user","initialForm","user_id","title","meaning","file","form","setForm","createData","data","console","log","alert","options","body","headers","post","then","res","err","handleSubmit","e","preventDefault","handleChange","target","name","value","handleFiles","base64","margin","textAlign","color"],"sources":["/home/yair/Desktop/what i delete form project/src/components/FormCard.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./styles/formCard.css\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nimport { useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport ReactFileReader from \"react-file-reader\";\nimport Modal from \"react-modal\";\nimport crossOut from \"../media/crossout.png\";\n\nconst url = \"https://englishapputc.herokuapp.com/api/cards/\";\n\nconst customStyles = {\n  content: {\n    // color: \"white\",\n\n    width: \"350px\",\n    height: \"350px\",\n    backgroundColor: \"#00000000\",\n\n    outline: \"none\",\n  },\n  overlay: { zIndex: 999, backgroundColor: \"#18191ab1\" },\n};\nconst FormCard = ({ modalIsOpen, openModal, fetchApi }) => {\n  const [message, setMessage] = useState(false);\n  // const [modalIsOpen, setModalIsOpen] = useState(true);\n  let { user } = useContext(AuthContext);\n\n  const initialForm = {\n    user: user.user_id,\n    title: \"\",\n    meaning: \"\",\n    file: \"\",\n  };\n  // const openModal = (e) => {\n  //   // e.preventDefault();\n  //   modalIsOpen ? setModalIsOpen(false) : setModalIsOpen(true);\n  // };\n\n  const [form, setForm] = useState(initialForm);\n\n  const createData = (data) => {\n    console.log(form);\n    // if (!form.title === \"\" || !form.meaning === \"\" || !form.file === \"\") {\n    if (form.title === \"\" || form.meaning === \"\" || form.file === \"\") {\n      alert(\"llena todo, no seas mamon xd\");\n    } else {\n      let options = {\n        body: data,\n        headers: { \"content-type\": \"multipart/form-data\" },\n      };\n      helpHttp()\n        .post(url, options)\n        .then((res) => {\n          res.err ? setMessage(true) : setMessage(false);\n          fetchApi();\n        });\n    }\n    // } else {\n    //   alert(\"llena\");\n    // }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(e.taget);\n    console.log(form);\n\n    createData(form);\n  };\n  const handleChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleFiles = (file) => {\n    setForm({\n      ...form,\n      [\"file\"]: file.base64,\n    });\n  };\n  return (\n    <Modal\n      className=\"modal\"\n      ariaHideApp={false}\n      style={customStyles}\n      isOpen={modalIsOpen}\n      // contentLabel=\"Minimal Modal Example\"\n    >\n      <img\n        style={{ margin: \"10px\" }}\n        className=\"cross-out\"\n        onClick={openModal}\n        src={crossOut}\n        alt=\"\"\n      />\n      <div className=\"container-form-card\">\n        <div className=\"form-card\">\n          <div>\n            <h3>Â¡Sube tus cartas!</h3>\n          </div>\n          <div>\n            <input\n              name=\"title\"\n              value={form.title}\n              onChange={handleChange}\n              className=\"input-form-card\"\n              type=\"text\"\n              placeholder=\"Palabra en ingles\"\n            />\n          </div>\n          <div>\n            <input\n              name=\"meaning\"\n              value={form.meaning}\n              onChange={handleChange}\n              className=\"input-form-card\"\n              type=\"text\"\n              placeholder=\"signicado\"\n            />\n          </div>\n          <br />\n          <div className=\"main_div\">\n            <ReactFileReader handleFiles={handleFiles} base64={true}>\n              <button>Selecciona imagen</button>\n            </ReactFileReader>\n          </div>\n          <div>\n            <button\n              onClick={handleSubmit}\n              type=\"submit\"\n              className=\"btn-send-card\"\n            >\n              Enviar\n            </button>\n          </div>\n        </div>\n      </div>\n      {message && (\n        <div style={{ textAlign: \"center\", color: \"red\" }}>\n          ups Algo salio mal, intentalo de nuevo\n        </div>\n      )}\n    </Modal>\n  );\n};\n\nexport default FormCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}