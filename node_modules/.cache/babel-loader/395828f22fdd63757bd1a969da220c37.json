{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/yair/Desktop/what i delete form project/node_modules/@babel/runtime/regenerator/index.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\n\nvar _utils = require(\"./utils\");\n\nvar _NativeSpeechRecognition = require(\"./NativeSpeechRecognition\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar RecognitionManager = /*#__PURE__*/function () {\n  function RecognitionManager(SpeechRecognition) {\n    _classCallCheck(this, RecognitionManager);\n\n    this.recognition = null;\n    this.pauseAfterDisconnect = false;\n    this.interimTranscript = '';\n    this.finalTranscript = '';\n    this.listening = false;\n    this.isMicrophoneAvailable = true;\n    this.subscribers = {};\n\n    this.onStopListening = function () {};\n\n    this.previousResultWasFinalOnly = false;\n    this.resetTranscript = this.resetTranscript.bind(this);\n    this.startListening = this.startListening.bind(this);\n    this.stopListening = this.stopListening.bind(this);\n    this.abortListening = this.abortListening.bind(this);\n    this.setSpeechRecognition = this.setSpeechRecognition.bind(this);\n    this.disableRecognition = this.disableRecognition.bind(this);\n    this.setSpeechRecognition(SpeechRecognition);\n\n    if ((0, _isAndroid[\"default\"])()) {\n      this.updateFinalTranscript = (0, _utils.debounce)(this.updateFinalTranscript, 250, true);\n    }\n  }\n\n  _createClass(RecognitionManager, [{\n    key: \"setSpeechRecognition\",\n    value: function setSpeechRecognition(SpeechRecognition) {\n      var browserSupportsRecogniser = !!SpeechRecognition && ((0, _NativeSpeechRecognition.isNative)(SpeechRecognition) || (0, _utils.browserSupportsPolyfills)());\n\n      if (browserSupportsRecogniser) {\n        this.disableRecognition();\n        this.recognition = new SpeechRecognition();\n        this.recognition.continuous = false;\n        this.recognition.interimResults = true;\n        this.recognition.onresult = this.updateTranscript.bind(this);\n        this.recognition.onend = this.onRecognitionDisconnect.bind(this);\n        this.recognition.onerror = this.onError.bind(this);\n      }\n\n      this.emitBrowserSupportsSpeechRecognitionChange(browserSupportsRecogniser);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(id, callbacks) {\n      this.subscribers[id] = callbacks;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      delete this.subscribers[id];\n    }\n  }, {\n    key: \"emitListeningChange\",\n    value: function emitListeningChange(listening) {\n      var _this = this;\n\n      this.listening = listening;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onListeningChange = _this.subscribers[id].onListeningChange;\n        onListeningChange(listening);\n      });\n    }\n  }, {\n    key: \"emitMicrophoneAvailabilityChange\",\n    value: function emitMicrophoneAvailabilityChange(isMicrophoneAvailable) {\n      var _this2 = this;\n\n      this.isMicrophoneAvailable = isMicrophoneAvailable;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onMicrophoneAvailabilityChange = _this2.subscribers[id].onMicrophoneAvailabilityChange;\n        onMicrophoneAvailabilityChange(isMicrophoneAvailable);\n      });\n    }\n  }, {\n    key: \"emitTranscriptChange\",\n    value: function emitTranscriptChange(interimTranscript, finalTranscript) {\n      var _this3 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onTranscriptChange = _this3.subscribers[id].onTranscriptChange;\n        onTranscriptChange(interimTranscript, finalTranscript);\n      });\n    }\n  }, {\n    key: \"emitClearTranscript\",\n    value: function emitClearTranscript() {\n      var _this4 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onClearTranscript = _this4.subscribers[id].onClearTranscript;\n        onClearTranscript();\n      });\n    }\n  }, {\n    key: \"emitBrowserSupportsSpeechRecognitionChange\",\n    value: function emitBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange) {\n      var _this5 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var _this5$subscribers$id = _this5.subscribers[id],\n            onBrowserSupportsSpeechRecognitionChange = _this5$subscribers$id.onBrowserSupportsSpeechRecognitionChange,\n            onBrowserSupportsContinuousListeningChange = _this5$subscribers$id.onBrowserSupportsContinuousListeningChange;\n        onBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange);\n        onBrowserSupportsContinuousListeningChange(browserSupportsSpeechRecognitionChange);\n      });\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(disconnectType) {\n      if (this.recognition && this.listening) {\n        switch (disconnectType) {\n          case 'ABORT':\n            this.pauseAfterDisconnect = true;\n            this.abort();\n            break;\n\n          case 'RESET':\n            this.pauseAfterDisconnect = false;\n            this.abort();\n            break;\n\n          case 'STOP':\n          default:\n            this.pauseAfterDisconnect = true;\n            this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"disableRecognition\",\n    value: function disableRecognition() {\n      if (this.recognition) {\n        this.recognition.onresult = function () {};\n\n        this.recognition.onend = function () {};\n\n        this.recognition.onerror = function () {};\n\n        if (this.listening) {\n          this.stopListening();\n        }\n      }\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(event) {\n      if (event && event.error && event.error === 'not-allowed') {\n        this.emitMicrophoneAvailabilityChange(false);\n        this.disableRecognition();\n      }\n    }\n  }, {\n    key: \"onRecognitionDisconnect\",\n    value: function onRecognitionDisconnect() {\n      this.onStopListening();\n      this.listening = false;\n\n      if (this.pauseAfterDisconnect) {\n        this.emitListeningChange(false);\n      } else if (this.recognition) {\n        if (this.recognition.continuous) {\n          this.startListening({\n            continuous: this.recognition.continuous\n          });\n        } else {\n          this.emitListeningChange(false);\n        }\n      }\n\n      this.pauseAfterDisconnect = false;\n    }\n  }, {\n    key: \"updateTranscript\",\n    value: function updateTranscript(_ref) {\n      var results = _ref.results,\n          resultIndex = _ref.resultIndex;\n      var currentIndex = resultIndex === undefined ? results.length - 1 : resultIndex;\n      this.interimTranscript = '';\n      this.finalTranscript = '';\n\n      for (var i = currentIndex; i < results.length; ++i) {\n        if (results[i].isFinal && (!(0, _isAndroid[\"default\"])() || results[i][0].confidence > 0)) {\n          this.updateFinalTranscript(results[i][0].transcript);\n        } else {\n          this.interimTranscript = (0, _utils.concatTranscripts)(this.interimTranscript, results[i][0].transcript);\n        }\n      }\n\n      var isDuplicateResult = false;\n\n      if (this.interimTranscript === '' && this.finalTranscript !== '') {\n        if (this.previousResultWasFinalOnly) {\n          isDuplicateResult = true;\n        }\n\n        this.previousResultWasFinalOnly = true;\n      } else {\n        this.previousResultWasFinalOnly = false;\n      }\n\n      if (!isDuplicateResult) {\n        this.emitTranscriptChange(this.interimTranscript, this.finalTranscript);\n      }\n    }\n  }, {\n    key: \"updateFinalTranscript\",\n    value: function updateFinalTranscript(newFinalTranscript) {\n      this.finalTranscript = (0, _utils.concatTranscripts)(this.finalTranscript, newFinalTranscript);\n    }\n  }, {\n    key: \"resetTranscript\",\n    value: function resetTranscript() {\n      this.disconnect('RESET');\n    }\n  }, {\n    key: \"startListening\",\n    value: function () {\n      var _startListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _ref2,\n            _ref2$continuous,\n            continuous,\n            language,\n            isContinuousChanged,\n            isLanguageChanged,\n            _args = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, _ref2$continuous = _ref2.continuous, continuous = _ref2$continuous === void 0 ? false : _ref2$continuous, language = _ref2.language;\n\n                if (this.recognition) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                isContinuousChanged = continuous !== this.recognition.continuous;\n                isLanguageChanged = language && language !== this.recognition.lang;\n\n                if (!(isContinuousChanged || isLanguageChanged)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                if (!this.listening) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 9;\n                return this.stopListening();\n\n              case 9:\n                this.recognition.continuous = isContinuousChanged ? continuous : this.recognition.continuous;\n                this.recognition.lang = isLanguageChanged ? language : this.recognition.lang;\n\n              case 11:\n                if (this.listening) {\n                  _context.next = 22;\n                  break;\n                }\n\n                if (!this.recognition.continuous) {\n                  this.resetTranscript();\n                  this.emitClearTranscript();\n                }\n\n                _context.prev = 13;\n                _context.next = 16;\n                return this.start();\n\n              case 16:\n                this.emitListeningChange(true);\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](13); // DOMExceptions indicate a redundant microphone start - safe to swallow\n\n                if (!(_context.t0 instanceof DOMException)) {\n                  this.emitMicrophoneAvailabilityChange(false);\n                }\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[13, 19]]);\n      }));\n\n      function startListening() {\n        return _startListening.apply(this, arguments);\n      }\n\n      return startListening;\n    }()\n  }, {\n    key: \"abortListening\",\n    value: function () {\n      var _abortListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this6 = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.disconnect('ABORT');\n                this.emitListeningChange(false);\n                _context2.next = 4;\n                return new Promise(function (resolve) {\n                  _this6.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function abortListening() {\n        return _abortListening.apply(this, arguments);\n      }\n\n      return abortListening;\n    }()\n  }, {\n    key: \"stopListening\",\n    value: function () {\n      var _stopListening = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _this7 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.disconnect('STOP');\n                this.emitListeningChange(false);\n                _context3.next = 4;\n                return new Promise(function (resolve) {\n                  _this7.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stopListening() {\n        return _stopListening.apply(this, arguments);\n      }\n\n      return stopListening;\n    }()\n  }, {\n    key: \"getRecognition\",\n    value: function getRecognition() {\n      return this.recognition;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.recognition && !this.listening)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this.recognition.start();\n\n              case 3:\n                this.listening = true;\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function start() {\n        return _start.apply(this, arguments);\n      }\n\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.recognition && this.listening) {\n        this.recognition.stop();\n        this.listening = false;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this.recognition && this.listening) {\n        this.recognition.abort();\n        this.listening = false;\n      }\n    }\n  }]);\n\n  return RecognitionManager;\n}();\n\nexports[\"default\"] = RecognitionManager;","map":{"version":3,"names":["Object","defineProperty","exports","value","_isAndroid","_interopRequireDefault","require","_utils","_NativeSpeechRecognition","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","prototype","RecognitionManager","SpeechRecognition","recognition","pauseAfterDisconnect","interimTranscript","finalTranscript","listening","isMicrophoneAvailable","subscribers","onStopListening","previousResultWasFinalOnly","resetTranscript","bind","startListening","stopListening","abortListening","setSpeechRecognition","disableRecognition","updateFinalTranscript","debounce","browserSupportsRecogniser","isNative","browserSupportsPolyfills","continuous","interimResults","onresult","updateTranscript","onend","onRecognitionDisconnect","onerror","onError","emitBrowserSupportsSpeechRecognitionChange","subscribe","id","callbacks","unsubscribe","emitListeningChange","_this","keys","forEach","onListeningChange","emitMicrophoneAvailabilityChange","_this2","onMicrophoneAvailabilityChange","emitTranscriptChange","_this3","onTranscriptChange","emitClearTranscript","_this4","onClearTranscript","browserSupportsSpeechRecognitionChange","_this5","_this5$subscribers$id","onBrowserSupportsSpeechRecognitionChange","onBrowserSupportsContinuousListeningChange","disconnect","disconnectType","abort","stop","event","_ref","results","resultIndex","currentIndex","isFinal","confidence","transcript","concatTranscripts","isDuplicateResult","newFinalTranscript","_startListening","mark","_callee","_ref2","_ref2$continuous","language","isContinuousChanged","isLanguageChanged","_args","wrap","_callee$","_context","prev","next","abrupt","lang","start","t0","DOMException","_abortListening","_callee2","_this6","_callee2$","_context2","_stopListening","_callee3","_this7","_callee3$","_context3","getRecognition","_start","_callee4","_callee4$","_context4"],"sources":["/home/yair/Desktop/what i delete form project/node_modules/react-speech-recognition/lib/RecognitionManager.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _isAndroid = _interopRequireDefault(require(\"./isAndroid\"));\n\nvar _utils = require(\"./utils\");\n\nvar _NativeSpeechRecognition = require(\"./NativeSpeechRecognition\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar RecognitionManager = /*#__PURE__*/function () {\n  function RecognitionManager(SpeechRecognition) {\n    _classCallCheck(this, RecognitionManager);\n\n    this.recognition = null;\n    this.pauseAfterDisconnect = false;\n    this.interimTranscript = '';\n    this.finalTranscript = '';\n    this.listening = false;\n    this.isMicrophoneAvailable = true;\n    this.subscribers = {};\n\n    this.onStopListening = function () {};\n\n    this.previousResultWasFinalOnly = false;\n    this.resetTranscript = this.resetTranscript.bind(this);\n    this.startListening = this.startListening.bind(this);\n    this.stopListening = this.stopListening.bind(this);\n    this.abortListening = this.abortListening.bind(this);\n    this.setSpeechRecognition = this.setSpeechRecognition.bind(this);\n    this.disableRecognition = this.disableRecognition.bind(this);\n    this.setSpeechRecognition(SpeechRecognition);\n\n    if ((0, _isAndroid[\"default\"])()) {\n      this.updateFinalTranscript = (0, _utils.debounce)(this.updateFinalTranscript, 250, true);\n    }\n  }\n\n  _createClass(RecognitionManager, [{\n    key: \"setSpeechRecognition\",\n    value: function setSpeechRecognition(SpeechRecognition) {\n      var browserSupportsRecogniser = !!SpeechRecognition && ((0, _NativeSpeechRecognition.isNative)(SpeechRecognition) || (0, _utils.browserSupportsPolyfills)());\n\n      if (browserSupportsRecogniser) {\n        this.disableRecognition();\n        this.recognition = new SpeechRecognition();\n        this.recognition.continuous = false;\n        this.recognition.interimResults = true;\n        this.recognition.onresult = this.updateTranscript.bind(this);\n        this.recognition.onend = this.onRecognitionDisconnect.bind(this);\n        this.recognition.onerror = this.onError.bind(this);\n      }\n\n      this.emitBrowserSupportsSpeechRecognitionChange(browserSupportsRecogniser);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(id, callbacks) {\n      this.subscribers[id] = callbacks;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      delete this.subscribers[id];\n    }\n  }, {\n    key: \"emitListeningChange\",\n    value: function emitListeningChange(listening) {\n      var _this = this;\n\n      this.listening = listening;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onListeningChange = _this.subscribers[id].onListeningChange;\n        onListeningChange(listening);\n      });\n    }\n  }, {\n    key: \"emitMicrophoneAvailabilityChange\",\n    value: function emitMicrophoneAvailabilityChange(isMicrophoneAvailable) {\n      var _this2 = this;\n\n      this.isMicrophoneAvailable = isMicrophoneAvailable;\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onMicrophoneAvailabilityChange = _this2.subscribers[id].onMicrophoneAvailabilityChange;\n        onMicrophoneAvailabilityChange(isMicrophoneAvailable);\n      });\n    }\n  }, {\n    key: \"emitTranscriptChange\",\n    value: function emitTranscriptChange(interimTranscript, finalTranscript) {\n      var _this3 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onTranscriptChange = _this3.subscribers[id].onTranscriptChange;\n        onTranscriptChange(interimTranscript, finalTranscript);\n      });\n    }\n  }, {\n    key: \"emitClearTranscript\",\n    value: function emitClearTranscript() {\n      var _this4 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var onClearTranscript = _this4.subscribers[id].onClearTranscript;\n        onClearTranscript();\n      });\n    }\n  }, {\n    key: \"emitBrowserSupportsSpeechRecognitionChange\",\n    value: function emitBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange) {\n      var _this5 = this;\n\n      Object.keys(this.subscribers).forEach(function (id) {\n        var _this5$subscribers$id = _this5.subscribers[id],\n            onBrowserSupportsSpeechRecognitionChange = _this5$subscribers$id.onBrowserSupportsSpeechRecognitionChange,\n            onBrowserSupportsContinuousListeningChange = _this5$subscribers$id.onBrowserSupportsContinuousListeningChange;\n        onBrowserSupportsSpeechRecognitionChange(browserSupportsSpeechRecognitionChange);\n        onBrowserSupportsContinuousListeningChange(browserSupportsSpeechRecognitionChange);\n      });\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect(disconnectType) {\n      if (this.recognition && this.listening) {\n        switch (disconnectType) {\n          case 'ABORT':\n            this.pauseAfterDisconnect = true;\n            this.abort();\n            break;\n\n          case 'RESET':\n            this.pauseAfterDisconnect = false;\n            this.abort();\n            break;\n\n          case 'STOP':\n          default:\n            this.pauseAfterDisconnect = true;\n            this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"disableRecognition\",\n    value: function disableRecognition() {\n      if (this.recognition) {\n        this.recognition.onresult = function () {};\n\n        this.recognition.onend = function () {};\n\n        this.recognition.onerror = function () {};\n\n        if (this.listening) {\n          this.stopListening();\n        }\n      }\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(event) {\n      if (event && event.error && event.error === 'not-allowed') {\n        this.emitMicrophoneAvailabilityChange(false);\n        this.disableRecognition();\n      }\n    }\n  }, {\n    key: \"onRecognitionDisconnect\",\n    value: function onRecognitionDisconnect() {\n      this.onStopListening();\n      this.listening = false;\n\n      if (this.pauseAfterDisconnect) {\n        this.emitListeningChange(false);\n      } else if (this.recognition) {\n        if (this.recognition.continuous) {\n          this.startListening({\n            continuous: this.recognition.continuous\n          });\n        } else {\n          this.emitListeningChange(false);\n        }\n      }\n\n      this.pauseAfterDisconnect = false;\n    }\n  }, {\n    key: \"updateTranscript\",\n    value: function updateTranscript(_ref) {\n      var results = _ref.results,\n          resultIndex = _ref.resultIndex;\n      var currentIndex = resultIndex === undefined ? results.length - 1 : resultIndex;\n      this.interimTranscript = '';\n      this.finalTranscript = '';\n\n      for (var i = currentIndex; i < results.length; ++i) {\n        if (results[i].isFinal && (!(0, _isAndroid[\"default\"])() || results[i][0].confidence > 0)) {\n          this.updateFinalTranscript(results[i][0].transcript);\n        } else {\n          this.interimTranscript = (0, _utils.concatTranscripts)(this.interimTranscript, results[i][0].transcript);\n        }\n      }\n\n      var isDuplicateResult = false;\n\n      if (this.interimTranscript === '' && this.finalTranscript !== '') {\n        if (this.previousResultWasFinalOnly) {\n          isDuplicateResult = true;\n        }\n\n        this.previousResultWasFinalOnly = true;\n      } else {\n        this.previousResultWasFinalOnly = false;\n      }\n\n      if (!isDuplicateResult) {\n        this.emitTranscriptChange(this.interimTranscript, this.finalTranscript);\n      }\n    }\n  }, {\n    key: \"updateFinalTranscript\",\n    value: function updateFinalTranscript(newFinalTranscript) {\n      this.finalTranscript = (0, _utils.concatTranscripts)(this.finalTranscript, newFinalTranscript);\n    }\n  }, {\n    key: \"resetTranscript\",\n    value: function resetTranscript() {\n      this.disconnect('RESET');\n    }\n  }, {\n    key: \"startListening\",\n    value: function () {\n      var _startListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2,\n            _ref2$continuous,\n            continuous,\n            language,\n            isContinuousChanged,\n            isLanguageChanged,\n            _args = arguments;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, _ref2$continuous = _ref2.continuous, continuous = _ref2$continuous === void 0 ? false : _ref2$continuous, language = _ref2.language;\n\n                if (this.recognition) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                isContinuousChanged = continuous !== this.recognition.continuous;\n                isLanguageChanged = language && language !== this.recognition.lang;\n\n                if (!(isContinuousChanged || isLanguageChanged)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                if (!this.listening) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 9;\n                return this.stopListening();\n\n              case 9:\n                this.recognition.continuous = isContinuousChanged ? continuous : this.recognition.continuous;\n                this.recognition.lang = isLanguageChanged ? language : this.recognition.lang;\n\n              case 11:\n                if (this.listening) {\n                  _context.next = 22;\n                  break;\n                }\n\n                if (!this.recognition.continuous) {\n                  this.resetTranscript();\n                  this.emitClearTranscript();\n                }\n\n                _context.prev = 13;\n                _context.next = 16;\n                return this.start();\n\n              case 16:\n                this.emitListeningChange(true);\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](13);\n\n                // DOMExceptions indicate a redundant microphone start - safe to swallow\n                if (!(_context.t0 instanceof DOMException)) {\n                  this.emitMicrophoneAvailabilityChange(false);\n                }\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[13, 19]]);\n      }));\n\n      function startListening() {\n        return _startListening.apply(this, arguments);\n      }\n\n      return startListening;\n    }()\n  }, {\n    key: \"abortListening\",\n    value: function () {\n      var _abortListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this6 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.disconnect('ABORT');\n                this.emitListeningChange(false);\n                _context2.next = 4;\n                return new Promise(function (resolve) {\n                  _this6.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function abortListening() {\n        return _abortListening.apply(this, arguments);\n      }\n\n      return abortListening;\n    }()\n  }, {\n    key: \"stopListening\",\n    value: function () {\n      var _stopListening = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this7 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.disconnect('STOP');\n                this.emitListeningChange(false);\n                _context3.next = 4;\n                return new Promise(function (resolve) {\n                  _this7.onStopListening = resolve;\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stopListening() {\n        return _stopListening.apply(this, arguments);\n      }\n\n      return stopListening;\n    }()\n  }, {\n    key: \"getRecognition\",\n    value: function getRecognition() {\n      return this.recognition;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.recognition && !this.listening)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this.recognition.start();\n\n              case 3:\n                this.listening = true;\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function start() {\n        return _start.apply(this, arguments);\n      }\n\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.recognition && this.listening) {\n        this.recognition.stop();\n        this.listening = false;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this.recognition && this.listening) {\n        this.recognition.abort();\n        this.listening = false;\n      }\n    }\n  }]);\n\n  return RecognitionManager;\n}();\n\nexports[\"default\"] = RecognitionManager;"],"mappings":"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"},"metadata":{},"sourceType":"script"}